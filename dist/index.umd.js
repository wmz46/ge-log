(function(h,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(h=typeof globalThis<"u"?globalThis:h||self,h.GeLog=n())})(this,function(){"use strict";const h="0.0.4";var n=(e=>(e[e.TRACE=1]="TRACE",e[e.DEBUG=2]="DEBUG",e[e.LOG=3]="LOG",e[e.INFO=4]="INFO",e[e.WARN=5]="WARN",e[e.ERROR=6]="ERROR",e))(n||{});const b={ERROR:"color:red",WARN:"color:orange",DEBUG:"color:gray",INFO:"color:green",LOG:"color:grean"},j=e=>{const c=e.getFullYear(),t=`${e.getMonth()+1}`.padStart(2,"0"),o=`${e.getDate()}`.padStart(2,"0"),E=`${e.getHours()}`.padStart(2,"0"),N=`${e.getMinutes()}`.padStart(2,"0"),i=`${e.getSeconds()}`.padStart(2,"0");return`${c}-${t}-${o} ${E}:${N}:${i}`},_=e=>{if(e==null)return 0;const c=e.match(/%[csdifoO]/g);return c==null?0:c.length},l=(e,...c)=>{const t=[],o=[];for(let F=0;F<c.length;F++){const a=c[F];if(typeof a=="object")t.push("%o"),o.push(a);else if(typeof a=="string"){const g=_(a);if(g>0){t.push(a);for(let D=0;D<g;D++)o.push(c[F+D+1]);F+=g}else t.push("%s"),o.push(a)}else t.push("%s"),o.push(a)}const E=new Error;Error.captureStackTrace(E,l);const i=(E.stack||"").match(/at .*/g)||[];t.push("%c"),o.push(b[n[e]]);const p=["",`\u8C03\u7528\u65F6\u95F4\uFF1A${j(new Date)}`];return A&&p.push(`\u65E5\u5FD7\u7EA7\u522B\uFF1A${n[e]}`),d&&(f==0?(p.push("\u8C03\u7528\u5806\u6808\uFF1A"),o.push(E)):(i.splice(0,1),f>0&&i.length>f&&i.splice(f,i.length-f),i.length>0&&p.push(`\u8C03\u7528\u5806\u6808\uFF1A${i.join(`\r
         `)}`))),t.push(p.join(`\r
`)),[t.join(" "),...o]},w=console.log,R=console.error,u=console.info,$=console.trace,m=console.warn,S=console.debug,B=function(...e){r<=6&&R(...s?l(6,...e):e)},k=function(...e){r<=3&&w(...s?l(3,...e):e)},O=function(...e){r<=4&&u(...s?l(4,...e):e)},C=function(...e){r<=2&&S(...s?l(2,...e):e)},G=function(...e){r<=1&&$(...s?l(1,...e):e)},y=function(...e){r<=5&&m(...s?l(5,...e):e)};let s=!0,A=!0,d=!0,f=0,r=1;return{get version(){return h},get showDetail(){return s},set showDetail(e){u(e?"\u5F00\u542F\u65E5\u5FD7\u8BE6\u60C5":"\u5173\u95ED\u65E5\u5FD7\u8BE6\u60C5"),s=e},get showLevel(){return A},set showLevel(e){u(e?"\u5F00\u542F\u65E5\u5FD7\u7EA7\u522B\u663E\u793A":"\u5173\u95ED\u65E5\u5FD7\u7EA7\u522B\u663E\u793A"),A=e},get showStack(){return d},set showStack(e){u(e?"\u5F00\u542F\u5806\u6808\u4FE1\u606F\u663E\u793A":"\u5173\u95ED\u5806\u6808\u4FE1\u606F\u663E\u793A"),d=e},get maxStackLevel(){return f},set maxStackLevel(e){u("\u9650\u5236\u5806\u6808\u5C42\u7EA7\u6700\u591A\u4E3A"+e+"(0\u4E0D\u9650\u5236)"),f=e},get level(){return r},set level(e){u(`\u8BBE\u7F6E\u65E5\u5FD7\u663E\u793A\u7EA7\u522B\u4E3A\uFF1A${n[e]}`),r=e},error:B,log:k,info:O,debug:C,trace:G,warn:y,replaceConsole(){console.log=k,console.error=B,console.debug=C,console.trace=G,console.info=O,console.warn=y}}});
